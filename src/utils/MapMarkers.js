/**
 * u041au0430u0441u0442u043eu043cu043du044bu0435 u043cu0430u0440u043au0435u0440u044b u0438 u0441u0442u0438u043bu0438 u043cu0430u0440u0448u0440u0443u0442u043eu0432 u0434u043bu044f MapEase
 */

// u041cu0430u0440u043au0435u0440 u043du0430u0447u0430u043bu0430 u043cu0430u0440u0448u0440u0443u0442u0430 (u0441u0438u043du0438u0439 u043au0440u0443u0433)
export const originMarkerSVG = `<svg width="24" height="23" viewBox="0 0 24 23" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21.7449 11.7449C21.7449 17.1269 17.382 21.4898 12 21.4898C6.61804 21.4898 2.2551 17.1269 2.2551 11.7449C2.2551 6.36294 6.61804 2 12 2C17.382 2 21.7449 6.36294 21.7449 11.7449Z" fill="white" stroke="#5853FC" stroke-width="3"/></svg>`;

// u041cu0430u0440u043au0435u0440 u043au043eu043du0446u0430 u043cu0430u0440u0448u0440u0443u0442u0430 (u0443u043au0430u0437u0430u0442u0435u043bu044c u043bu043eu043au0430u0446u0438u0438)
export const destinationMarkerSVG = `<svg width="77" height="82" viewBox="0 0 77 82" fill="none" xmlns="http://www.w3.org/2000/svg"><g filter="url(#filter0_d_1067_920)"><path d="M50.3017 33.835L38.5405 59L26.7793 33.835L37.1047 34.9033C38.0264 35.2718 39.0546 35.2718 39.9764 34.9033L50.3017 33.835Z" fill="#5853FC" stroke="white" stroke-width="4.83699" stroke-linecap="round" stroke-linejoin="round"/><path d="M18.5387 34.5401C18.5387 23.4935 27.4937 14.5385 38.5403 14.5385C49.5869 14.5385 58.542 23.4935 58.542 34.5401C58.542 45.5867 49.5869 54.5418 38.5403 54.5418C27.4937 54.5418 18.5387 45.5867 18.5387 34.5401Z" fill="white" stroke="white" stroke-width="3.07718"/><path d="M38.5 53C36.9238 53 35.3475 52.7511 33.9372 52.4193L32.0291 44.5381C33.2735 44.6211 34.5179 44.4552 35.5964 44.2063C37.7534 43.7085 39.5785 42.63 41.3206 41.5516C43.9753 39.9753 46.5471 38.4821 50.5291 38.8969C50.778 38.8969 51.1099 38.8139 51.2758 38.565C51.4417 38.3161 51.5247 38.0673 51.4417 37.7354L48.0404 24.0471C47.9574 23.7152 47.6256 23.3834 47.2937 23.3834C42.7309 22.8857 39.7444 24.6278 37.0067 26.287C34.435 27.7803 32.0291 29.2735 28.213 28.9417L27.8812 27.4484C27.7982 27.1996 27.7152 27.0336 27.4664 26.8677C27.3004 26.7848 27.0516 26.7018 26.8027 26.7848C26.5538 26.8677 26.3879 26.9507 26.222 27.1996C26.0561 27.4484 26.0561 27.6973 26.0561 27.9462L31.9462 51.8386C24.9776 49.1839 20 42.4641 20 34.5C20 24.296 28.296 16 38.5 16C48.704 16 57 24.296 57 34.5C57 44.704 48.704 53 38.5 53Z" fill="#5853FC"/></g><defs><filter id="filter0_d_1067_920" x="0.588385" y="0.691166" width="75.9038" height="81.2418" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy="4.1029"/><feGaussianBlur stdDeviation="8.20581"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1067_920"/><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1067_920" result="shape"/></filter></defs></svg>`;

// u0421u0442u0438u043bu0438 u043cu0430u0440u0448u0440u0443u0442u043eu0432 u0434u043bu044f u0440u0430u0437u043du044bu0445 u0442u0438u043fu043eu0432 u0442u0440u0430u043du0441u043fu043eu0440u0442u0430
export const routeColors = {
  DRIVING: '#3bbc47', // u0417u0435u043bu0435u043du044bu0439 u0434u043bu044f u0430u0432u0442u043e
  WALKING: '#5853FC', // u0421u0438u043du0438u0439 u0434u043bu044f u043fu0435u0448u0435u0445u043eu0434u0430
  BICYCLING: '#5853FC', // u0421u0438u043du0438u0439 u0434u043bu044f u0432u0435u043bu043eu0441u0438u043fu0435u0434u0430
  TRANSIT: '#673AB7'  // u0424u0438u043eu043bu0435u0442u043eu0432u044bu0439 u0434u043bu044f u0442u0440u0430u043du0441u043fu043eu0440u0442u0430
};

// u0421u0442u0438u043bu0438 u043fu0443u043du043au0442u0438u0440u043du044bu0445 u043bu0438u043du0438u0439 u0434u043bu044f u043cu0430u0440u0448u0440u0443u0442u043eu0432
export const routeDashArrays = {
  DRIVING: null, // u0421u043fu043bu043eu0448u043du0430u044f u043lu0438u043du0438u044f
  WALKING: '5, 10', // u0414u043lu0438u043du043du044bu0439 u043fu0443u043du043au0442u0438u0440
  BICYCLING: '2, 5', // u041au043eu0440u043eu0442u043au0438u0439 u043fu0443u043du043au0442u0438u0440
  TRANSIT: '10, 5, 2, 5' // u041au043eu043cu0431u0438u043du0438u0440u043eu0432u0430u043du043du044bu0439 u043fu0443u043du043au0442u0438u0440
};

// u0422u043eu043bu0449u0438u043du0430 u043lu0438u043du0438u0439 u043cu0430u0440u0448u0443u0442u0430
export const routeWeights = {
  DRIVING: 6,
  WALKING: 4,
  BICYCLING: 5,
  TRANSIT: 5
};

// u0421u0442u0438u043bu0438 u0434u043bu044f u0430u043bu0442u0435u0440u043du0430u0442u0438u0432u043du044b u043cu0430u0440u0448u0443u0442u043eu0432
export const alternativeRouteStyle = {
  opacity: 0.6, // u0410u043bu0442u0435u0440u043du0430u0442u0438u0432u043du044b u043cu0430u0440u0448u0443u0442u043a u0431u043eu043bu0435u0435 u043fu0440u043eu0437u0440u0430u0447u043du044b
  weight: 4,     // u0410u043bu0442u0435u0440u043du0430u0442u0438u0432u043du044b u043cu0430u0440u0448u0443u0442u043a u0442u043eu043du043du0438u0435
  color: '#777777' // u0421u0435u0440u044bu0439 u0446u0432u0435u0442 u0434u043bu044f u0430u043bu0442u0435u0440u043du0430u0442u0438u0432u043du044b u043cu0430u0440u0448u0443u0442u043eu0432
};

/**
 * u0421u043eu0437u0434u0430u0435u0442 JavaScript u043au043eu0434 u0434u043lu044f u0437u0430u043cu0435u043du044b u043cu0430u0440u043au0435u0440u043eu0432 u0432 u0438u043du044au0435u043au0442u0438u0440u0443u0435u043cu043eu043c u0441u043au0440u0438u043fu0442u0435 WebView
 * @param {string} transportType - u0422u0438u043f u0442u0440u0430u043du0441u043fu043eu0440u0442u0430 (DRIVING, WALKING, BICYCLING, TRANSIT)
 * @returns {string} - u0427u0430u0441u0442u044c JavaScript u043au043eu0434u0430 u0441 u043eu043fu0440u0435u0434u0435u043bu0435u043du0438u0435u043c u043cu0430u0440u043au0435u0440u043eu0432
 */
export function getMarkersScriptPart(transportType = 'DRIVING') {
  return `
    // u0421u043eu0437u0434u0430u0435u043c u043au0430u0441u0442u043eu043cu043du044bu0435 SVG u0438u043au043eu043du043au0438 u0434u043bu044f u043cu0430u0440u043au0435u0440u043eu0432
    // u0418u043au043eu043du043au0430 u0434u043bu044f u043du0430u0447u0430u043bu0430 u043cu0430u0440u0448u0440u0443u0442u0430 (u0441u0438u043du0438u0439 u043au0440u0443u0433)
    const originIcon = L.divIcon({
      html: '${originMarkerSVG}',
      className: 'start-marker-icon',
      iconSize: [40, 40],
      iconAnchor: [20, 20]
    });
    
    // u0418u043au043eu043du043au0430 u0434u043bu044f u043au043eu043du0446u0430 u043cu0430u0440u0448u0440u0443u0442u0430 (u0441u0438u043du0438u0439 u0443u043au0430u0437u0430u0442u0435u043bu044c)
    const destinationIcon = L.divIcon({
      html: '${destinationMarkerSVG}',
      className: 'end-marker-icon',
      iconSize: [60, 60],
      iconAnchor: [30, 58]
    });
  `;
}

/**
 * u0412u043eu0437u0432u0440u0430u0449u0430u0435u0442 u0446u0432u0435u0442 u043cu0430u0440u0448u0440u0443u0442u0430 u0434u043bu044f u0443u043au0430u0437u0430u043du043du043eu0433u043e u0442u0438u043fu0430 u0442u0440u0430u043du0441u043fu043eu0440u0442u0430
 * @param {string} transportType - u0422u0438u043f u0442u0440u0430u043du0441u043fu043eu0440u0442u0430 (DRIVING, WALKING, BICYCLING, TRANSIT)
 * @returns {string} - u0426u0432u0435u0442 u0432 u0444u043eu0440u043cu0430u0442u0435 HEX
 */
export function getRouteColor(transportType = 'DRIVING') {
  return routeColors[transportType] || routeColors.DRIVING;
}

/**
 * u0412u043eu0437u0432u0440u0430u0449u0430u0435u0442 u0441u0442u0438u043bu044c u043fu0443u043du043au0442u0438u0440u0430 u0434u043bu044f u0443u043au0430u0437u0430u043du043du043eu0433u043e u0442u0438u043fu0430 u0442u0440u0430u043du0441u043fu043eu0440u0442u0430
 * @param {string} transportType - u0422u0438u043f u0442u0440u0430u043du0441u043fu043eu0440u0442u0430 (DRIVING, WALKING, BICYCLING, TRANSIT)
 * @returns {string|null} - u0421u0442u0440u043eu043au0430 u0441 u043fu0430u0440u0430u043cu0435u0442u0440u0430u043cu0438 u043fu0443u043du043au0442u0438u0440u0430 u0438u043bu0438 null u0434u043bu044f u0441u043fu043bu043eu0448u043du043eu0439 u043bu0438u043du0438u0438
 */
export function getRouteDashArray(transportType = 'DRIVING') {
  return routeDashArrays[transportType] || null;
}

/**
 * u0412u043eu0437u0432u0440u0430u0449u0430u0435u0442 u0442u043eu043bu0449u0438u043du0443 u043bu0438u043du0438u0438 u043cu0430u0440u0448u0440u0443u0442u0430 u0434u043bu044f u0443u043au0430u0437u0430u043du043du043eu0433u043e u0442u0438u043fu0430 u0442u0440u0430u043du0441u043fu043eu0440u0442u0430
 * @param {string} transportType - u0422u0438u043f u0442u0440u0430u043du0441u043fu043eu0440u0442u0430 (DRIVING, WALKING, BICYCLING, TRANSIT)
 * @returns {number} - u0422u043eu043bu0449u0438u043du0430 u043bu0438u043du0438u0438
 */
export function getRouteWeight(transportType = 'DRIVING') {
  return routeWeights[transportType] || 5;
}
